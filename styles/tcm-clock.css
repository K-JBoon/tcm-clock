#tcm-clock {
	position: fixed;
}

.tcm-clock-overlay {
	pointer-events: auto;
	user-select: none;
	width: 100%;
	height: 100%;
}

.tcm-clock {
	pointer-events: auto;
	user-select: none;
	width: 100%;
	height: 100%;
}

.clock-container {
	position: relative;
	background: transparent;
	border: none;
	border-radius: 0;
	padding: 0;
	box-shadow: none;
	width: 100%;
	height: 100%;
}

.clock-face {
	position: relative;
	width: 100%;
	height: 100%;
	aspect-ratio: 1;
	border-radius: 0;
	background: url('../assets/clock.png') center center / contain no-repeat;
	border: none;
	overflow: visible;
}

.clock-arrow {
	position: absolute;
	top: 100%;
	left: 50%;
	width: 70%;
	height: 100%;
	background: url('../assets/clock-hand.png') center center / contain no-repeat;
	transform-origin: 50% 50%;
	transform: translate(-50%, -100%) rotate(0deg);
	z-index: 2;
}

.clock-arrow.animating {
	animation: hourHandMove 1.5s cubic-bezier(0.25, 0.1, 0.25, 1.5) forwards;
}

/* Animations for all possible segment transitions */
/* From segment 0 (witching) transitions */
@keyframes segment-0-to-1 {
	0% { transform: translate(-50%, -100%) rotate(0deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(-8deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(51deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(69deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(60deg); }
}

@keyframes segment-0-to-5 {
	0% { transform: translate(-50%, -100%) rotate(0deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(8deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(-51deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(-69deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(-60deg); }
}

/* From segment 1 (twilight) transitions */
@keyframes segment-1-to-0 {
	0% { transform: translate(-50%, -100%) rotate(60deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(68deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(9deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(-9deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(0deg); }
}

@keyframes segment-1-to-2 {
	0% { transform: translate(-50%, -100%) rotate(60deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(52deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(111deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(129deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(120deg); }
}

/* From segment 2 (dusk) transitions */
@keyframes segment-2-to-1 {
	0% { transform: translate(-50%, -100%) rotate(120deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(128deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(69deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(51deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(60deg); }
}

@keyframes segment-2-to-3 {
	0% { transform: translate(-50%, -100%) rotate(120deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(112deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(171deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(189deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(180deg); }
}

/* From segment 3 (nightfall) transitions */
@keyframes segment-3-to-2 {
	0% { transform: translate(-50%, -100%) rotate(180deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(188deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(129deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(111deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(120deg); }
}

@keyframes segment-3-to-4 {
	0% { transform: translate(-50%, -100%) rotate(180deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(172deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(231deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(249deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(240deg); }
}

/* From segment 4 (evening) transitions */
@keyframes segment-4-to-3 {
	0% { transform: translate(-50%, -100%) rotate(240deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(248deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(189deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(171deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(180deg); }
}

@keyframes segment-4-to-5 {
	0% { transform: translate(-50%, -100%) rotate(240deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(232deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(291deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(309deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(300deg); }
}

/* From segment 5 (midnight) transitions */
@keyframes segment-5-to-4 {
	0% { transform: translate(-50%, -100%) rotate(300deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(308deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(249deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(231deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(240deg); }
}

@keyframes segment-5-to-0 {
	0% { transform: translate(-50%, -100%) rotate(300deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(292deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(351deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(369deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(360deg); }
}

/* Wrap-around animations (for 360-degree transitions) */
@keyframes segment-0-to-5-wrap {
	0% { transform: translate(-50%, -100%) rotate(360deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(368deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(309deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(291deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(300deg); }
}

@keyframes segment-5-to-0-wrap {
	0% { transform: translate(-50%, -100%) rotate(-60deg); animation-timing-function: ease-out; }
	15% { transform: translate(-50%, -100%) rotate(-68deg); animation-timing-function: cubic-bezier(0.25, 0.1, 0.58, 1); }
	75% { transform: translate(-50%, -100%) rotate(-9deg); animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55); }
	90% { transform: translate(-50%, -100%) rotate(9deg); animation-timing-function: ease-out; }
	100% { transform: translate(-50%, -100%) rotate(0deg); }
}

@keyframes hourHandVibrate {
	0%, 100% { transform: translate(-50%, -100%) rotate(var(--target-rotation)); }
	10% { transform: translate(-50%, -100%) rotate(calc(var(--target-rotation) + 2deg)); }
	20% { transform: translate(-50%, -100%) rotate(calc(var(--target-rotation) - 1.5deg)); }
	30% { transform: translate(-50%, -100%) rotate(calc(var(--target-rotation) + 1deg)); }
	40% { transform: translate(-50%, -100%) rotate(calc(var(--target-rotation) - 0.5deg)); }
	50% { transform: translate(-50%, -100%) rotate(calc(var(--target-rotation) + 0.3deg)); }
	60% { transform: translate(-50%, -100%) rotate(calc(var(--target-rotation) - 0.2deg)); }
}


.night-counter {
	position: absolute;
	top: -5%;
	left: 50%;
	transform: translateX(-50%);
	text-align: center;
	color: #D2691E;
	font-size: clamp(12px, 3.5vw, 18px);
	font-weight: bold;
	text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
	background: rgba(0, 0, 0, 0.7);
	padding: 1% 2%;
	border-radius: 5px;
	border: 1px solid #8B4513;
}

.night-number {
	color: #FFD700;
}

/* GM Controls */
.gm-controls {
	position: absolute;
	top: 100%;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	justify-content: center;
	gap: 10%;
	z-index: 10;
	margin-top: -2.5%;
}

.gm-controls button {
	background: rgba(0, 0, 0, 0.8);
	border: 2px solid #8B4513;
	color: #FFD700;
	border-radius: 5px;
	width: 2rem;
	height: 2rem;
	padding: 0;
	font-size: clamp(10px, 2.5vw, 14px);
	font-weight: bold;
	cursor: pointer;
	transition: all 0.2s;
	text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
	display: flex;
	align-items: center;
	justify-content: center;
}

.gm-controls button:hover {
	background: rgba(139, 69, 19, 1);
	border-color: #D2691E;
	transform: scale(1.05);
}

/* Adjustments for smaller displays */
@media (max-width: 768px) {
	.night-counter {
		font-size: clamp(10px, 4vw, 16px);
		padding: 2% 3%;
	}

	.gm-controls button {
		font-size: clamp(8px, 3vw, 12px);
		padding: 2% 3%;
	}
}
